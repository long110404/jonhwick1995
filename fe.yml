# .github/workflows/fe.yml
name: ğŸš€ Frontend CI/CD

# KÃ­ch hoáº¡t khi cÃ³ push hoáº·c pull_request vÃ o branch main
on:
  push:
    branches: [ main ]
    paths:
      - 'frontend/**' # CHá»ˆ cháº¡y náº¿u cÃ³ thay Ä‘á»•i trong thÆ° má»¥c 'frontend/'
  pull_request:
    branches: [ main ]
    paths:
      - 'frontend/**'

jobs:
  build-and-test-fe:
    runs-on: ubuntu-latest

    # Thiáº¿t láº­p working directory máº·c Ä‘á»‹nh cho táº¥t cáº£ cÃ¡c steps trong job nÃ y
    defaults:
      run:
        working-directory: ./frontend # Äiá»u chá»‰nh theo thÆ° má»¥c FE cá»§a báº¡n

    steps:
      - name: â¬‡ï¸ Checkout code
        uses: actions/checkout@v4

      - name: ğŸ”§ Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20' # Äiá»u chá»‰nh version Node.js cá»§a báº¡n

      - name: ğŸ“¦ Install dependencies
        run: npm install # Hoáº·c yarn install/pnpm install

      - name: ğŸ§ª Run tests
        # Thay tháº¿ báº±ng lá»‡nh test thá»±c táº¿ cá»§a báº¡n
        run: npm run test

      - name: ğŸ”¨ Build Frontend
        # Thay tháº¿ báº±ng lá»‡nh build thá»±c táº¿ cá»§a báº¡n
        run: npm run build

      - name: â¬†ï¸ Upload artifact
        uses: actions/upload-artifact@v4
        with:
          name: frontend-build
          path: ./frontend/dist # Thay tháº¿ 'dist' báº±ng thÆ° má»¥c build cá»§a báº¡n

  # ThÃªm job deploy náº¿u báº¡n muá»‘n triá»ƒn khai tá»± Ä‘á»™ng
  # deploy-fe:
  #   needs: build-and-test-fe # Chá»‰ cháº¡y khi job build-and-test-fe thÃ nh cÃ´ng
  #   runs-on: ubuntu-latest
  #   ...
